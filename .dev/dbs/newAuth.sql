-- phpMyAdmin SQL Dump
-- version 5.2.2
-- https://www.phpmyadmin.net/
--
-- Host: localhost
-- Generation Time: Jun 28, 2025 at 02:42 PM
-- Server version: 10.11.11-MariaDB-0+deb12u1
-- PHP Version: 8.3.20

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `newAuth`
--

-- --------------------------------------------------------

--
-- Table structure for table `AUTH`
--

CREATE TABLE `AUTH` (
  `NICKNAME` varchar(255) NOT NULL,
  `LOWERCASENICKNAME` varchar(255) NOT NULL,
  `HASH` varchar(255) NOT NULL,
  `IP` varchar(255) DEFAULT NULL,
  `isAdmin` tinyint(1) NOT NULL DEFAULT 0,
  `TOTPTOKEN` varchar(255) DEFAULT NULL,
  `REGDATE` bigint(20) DEFAULT NULL,
  `UUID` varchar(255) DEFAULT NULL,
  `UUID_WR` varchar(255) DEFAULT NULL,
  `PREMIUMUUID` varchar(255) DEFAULT NULL,
  `LOGINIP` varchar(255) DEFAULT NULL,
  `LOGINDATE` bigint(20) DEFAULT NULL,
  `ISSUEDTIME` bigint(20) DEFAULT NULL,
  `accessToken` char(32) DEFAULT NULL,
  `serverID` varchar(41) DEFAULT NULL,
  `hwidId` bigint(20) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Triggers `AUTH`
--
DELIMITER $$
CREATE TRIGGER `setUUID_WR` BEFORE INSERT ON `AUTH` FOR EACH ROW BEGIN
    IF NEW.UUID_WR IS NULL THEN
        SET NEW.UUID_WR = REPLACE(NEW.UUID, '-', '');
    END IF;
END
$$
DELIMITER ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `AUTH`
--
ALTER TABLE `AUTH`
  ADD PRIMARY KEY (`LOWERCASENICKNAME`),
  ADD UNIQUE KEY `UUID_WR` (`UUID_WR`),
  ADD KEY `users_hwidfk` (`hwidId`),
  ADD KEY `AUTH_PREMIUMUUID_idx` (`PREMIUMUUID`),
  ADD KEY `AUTH_IP_idx` (`IP`);

--
-- Constraints for dumped tables
--

--
-- Constraints for table `AUTH`
--
ALTER TABLE `AUTH`
  ADD CONSTRAINT `users_hwidfk` FOREIGN KEY (`hwidId`) REFERENCES `hwids` (`id`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;

--
-- Sample data for table `AUTH`
--

SET FOREIGN_KEY_CHECKS=0;
INSERT INTO `AUTH` (`NICKNAME`, `LOWERCASENICKNAME`, `HASH`, `IP`, `isAdmin`, `TOTPTOKEN`, `REGDATE`, `UUID`, `UUID_WR`, `PREMIUMUUID`, `LOGINIP`, `LOGINDATE`, `ISSUEDTIME`, `accessToken`, `serverID`, `hwidId`) VALUES
('Steve', 'steve', '$2a$10$abcdefghijklmnopqrstuv', '192.168.1.101', 1, NULL, 1672531200000, '96939126-8872-4011-a059-000000000001', '9693912688724011a059000000000001', 'p-uuid-1', '192.168.1.101', 1704067200000, 1704067200000, 'token1', NULL, NULL),
('Alex', 'alex', '$2a$10$abcdefghijklmnopqrstuv', '10.0.0.5', 0, NULL, 1675209600000, '96939126-8872-4011-a059-000000000002', '9693912688724011a059000000000002', 'p-uuid-2', '10.0.0.5', 1704153600000, 1704153600000, 'token2', NULL, NULL),
('Notch', 'notch', '$2a$10$abcdefghijklmnopqrstuv', '172.16.0.23', 1, NULL, 1677628800000, '96939126-8872-4011-a059-000000000003', '9693912688724011a059000000000003', 'p-uuid-3', '172.16.0.23', 1704240000000, 1704240000000, 'token3', NULL, NULL),
('Herobrine', 'herobrine', '$2a$10$abcdefghijklmnopqrstuv', '192.168.0.55', 0, NULL, 1680307200000, '96939126-8872-4011-a059-000000000004', '9693912688724011a059000000000004', 'p-uuid-4', '192.168.0.55', 1704326400000, 1704326400000, 'token4', NULL, NULL),
('Dream', 'dream', '$2a$10$abcdefghijklmnopqrstuv', '10.1.1.100', 0, NULL, 1682899200000, '96939126-8872-4011-a059-000000000005', '9693912688724011a059000000000005', 'p-uuid-5', '10.1.1.100', 1704412800000, 1704412800000, 'token5', NULL, NULL),
('Technoblade', 'technoblade', '$2a$10$abcdefghijklmnopqrstuv', '172.20.10.4', 0, NULL, 1685577600000, '96939126-8872-4011-a059-000000000006', '9693912688724011a059000000000006', 'p-uuid-6', '172.20.10.4', 1704499200000, 1704499200000, 'token6', NULL, NULL),
('Grian', 'grian', '$2a$10$abcdefghijklmnopqrstuv', '192.168.100.12', 0, NULL, 1688169600000, '96939126-8872-4011-a059-000000000007', '9693912688724011a059000000000007', 'p-uuid-7', '192.168.100.12', 1704585600000, 1704585600000, 'token7', NULL, NULL),
('MumboJumbo', 'mumbojumbo', '$2a$10$abcdefghijklmnopqrstuv', '10.2.3.4', 0, NULL, 1690848000000, '96939126-8872-4011-a059-000000000008', '9693912688724011a059000000000008', 'p-uuid-8', '10.2.3.4', 1704672000000, 1704672000000, 'token8', NULL, NULL),
('DanTDM', 'dantdm', '$2a$10$abcdefghijklmnopqrstuv', '172.18.0.1', 0, NULL, 1693526400000, '96939126-8872-4011-a059-000000000009', '9693912688724011a059000000000009', 'p-uuid-9', '172.18.0.1', 1704758400000, 1704758400000, 'token9', NULL, NULL),
('CaptainSparklez', 'captainsparklez', '$2a$10$abcdefghijklmnopqrstuv', '192.168.50.50', 0, NULL, 1696118400000, '96939126-8872-4011-a059-000000000010', '9693912688724011a059000000000010', 'p-uuid-10', '192.168.50.50', 1704844800000, 1704844800000, 'token10', NULL, NULL);
SET FOREIGN_KEY_CHECKS=1;
